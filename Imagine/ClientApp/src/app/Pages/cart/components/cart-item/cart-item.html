<div class="cart-item-card d-flex align-items-center gap-3">
  <div class="cart-item-image-wrap">
    <img [src]="item.image" [alt]="item.name" class="cart-item-image" />
  </div>

  <div class="cart-item-main flex-grow-1">
    <div class="d-flex justify-content-between align-items-start gap-2">
      <div>
        <h5 class="cart-item-name mb-1">{{ item.name }}</h5>
        <p class="cart-item-meta mb-1">
          <span class="meta-pill">{{ item.color }}</span>
          <span class="meta-pill" *ngIf="item.size">Size: {{ item.size }}</span>
          <span
            class="meta-pill ai-pill"
            *ngIf="item.isAiPowered"
            ngbTooltip="Designed with AI-assisted workflows"
          >
            AI-Enhanced
          </span>
        </p>
        <p class="cart-item-price mb-0">
          {{ item.basePrice | currency:'EGP':'code' }}
        </p>
      </div>

      <button class="btn btn-sm btn-outline-danger-soft" type="button" (click)="onRemove()">
        <i class="fas fa-times"></i>
      </button>
    </div>

    <div class="d-flex justify-content-between align-items-center mt-3 flex-wrap gap-3">
      <div class="quantity-control d-inline-flex align-items-center">
        <button class="qty-btn" type="button" (click)="onDecrement()">
          <i class="fas fa-minus"></i>
        </button>
        <input
          type="number"
          class="qty-input"
          [value]="item.quantity"
          (input)="onQuantityInput($any($event.target).value)"
          min="1"
        />
        <button class="qty-btn" type="button" (click)="onIncrement()">
          <i class="fas fa-plus"></i>
        </button>
      </div>

      <div class="cart-item-total text-end ms-auto">
        <div class="label">Total</div>
        <div class="value">{{ totalPrice | currency:'EGP':'code' }}</div>
      </div>
    </div>
  </div>
</div>
