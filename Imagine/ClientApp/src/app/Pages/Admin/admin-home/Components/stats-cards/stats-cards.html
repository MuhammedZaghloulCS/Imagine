<!-- Stats Cards -->
<div class="stats-grid" *ngIf="!isLoading && stats; else statsLoading">
  <!-- Total Revenue -->
  <div class="stat-card">
    <div class="stat-icon revenue">
      <i class="fas fa-dollar-sign"></i>
    </div>
    <div class="stat-content">
      <span class="stat-label">Total Revenue</span>
      <h3 class="stat-value">${{ stats.totalRevenue | number: '1.2-2' }}</h3>
      <div class="stat-change positive">
        <i class="fas fa-arrow-up"></i>
        <span>Live total from all orders</span>
      </div>
    </div>
  </div>

  <!-- Total Orders -->
  <div class="stat-card">
    <div class="stat-icon orders">
      <i class="fas fa-shopping-cart"></i>
    </div>
    <div class="stat-content">
      <span class="stat-label">Total Orders</span>
      <h3 class="stat-value">{{ stats.totalOrders | number }}</h3>
      <div class="stat-change positive">
        <i class="fas fa-arrow-up"></i>
        <span>All orders in the system</span>
      </div>
    </div>
  </div>

  <!-- Total Customers -->
  <div class="stat-card">
    <div class="stat-icon customers">
      <i class="fas fa-users"></i>
    </div>
    <div class="stat-content">
      <span class="stat-label">Total Customers</span>
      <h3 class="stat-value">{{ stats.totalCustomers | number }}</h3>
      <div class="stat-change positive">
        <i class="fas fa-arrow-up"></i>
        <span>Registered clients</span>
      </div>
    </div>
  </div>

  <!-- Pending Orders -->
  <div class="stat-card">
    <div class="stat-icon pending">
      <i class="fas fa-clock"></i>
    </div>
    <div class="stat-content">
      <span class="stat-label">Pending Orders</span>
      <h3 class="stat-value">{{ stats.pendingOrders | number }}</h3>
      <div class="stat-change" [ngClass]="{ 'negative': stats.pendingOrders > 0, 'positive': stats.pendingOrders === 0 }">
        <i class="fas" [ngClass]="stats.pendingOrders > 0 ? 'fa-arrow-up' : 'fa-check-circle'"></i>
        <span *ngIf="stats.pendingOrders > 0">Awaiting processing</span>
        <span *ngIf="stats.pendingOrders === 0">No pending orders</span>
      </div>
    </div>
  </div>
</div>

<ng-template #statsLoading>
  <div class="stats-grid">
    <div class="stat-card" *ngFor="let _ of placeholders">
      <div class="stat-icon skeleton"></div>
      <div class="stat-content">
        <span class="stat-label skeleton-text"></span>
        <h3 class="stat-value skeleton-text"></h3>
      </div>
    </div>
  </div>
</ng-template>
