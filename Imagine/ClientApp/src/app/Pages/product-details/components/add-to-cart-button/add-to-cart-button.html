<div class="pd-add-to-cart d-flex flex-wrap align-items-center gap-3">
  <div class="pd-qty-control d-inline-flex align-items-center">
    <button class="qty-btn" type="button" (click)="onDecrement()">
      <i class="fas fa-minus"></i>
    </button>
    <input
      type="number"
      class="qty-input"
      [value]="quantity"
      (input)="onQuantityInput($any($event.target).value)"
      min="1"
    />
    <button class="qty-btn" type="button" (click)="onIncrement()">
      <i class="fas fa-plus"></i>
    </button>
  </div>

  <button
    class="btn btn-primary-custom flex-grow-1 pd-add-btn"
    type="button"
    [disabled]="!inStock || !canAdd"
    (click)="onAddToCartClick()"
  >
    <div class="d-flex justify-content-between align-items-center w-100">
      <span>Add to cart</span>
      <span class="pd-add-price">{{ totalPrice | currency:'EGP':'code' }}</span>
    </div>
  </button>

  <p class="pd-add-caption mb-0 w-100">
    <ng-container *ngIf="inStock; else outOfStock">
      <ng-container *ngIf="hint; else perItem">
        {{ hint }}
      </ng-container>
      <ng-template #perItem>
        Per item: {{ finalPricePerItem | currency:'USD':'symbol' }}
      </ng-template>
    </ng-container>
    <ng-template #outOfStock>
      <span>Currently out of stock</span>
    </ng-template>
  </p>
</div>
